<script>
  import { getAuthContext } from "@components/context/auth";
  import { pageStore } from "@stores/pageStore";

  const users = [
    {avatar: "https://thrangra.sirv.com/Avatar1.png", nickName: "Felipe"},
    {avatar: "https://thrangra.sirv.com/Avatar2.png", nickName: "Anna"},
  ]
  const {auth} = getAuthContext();
  pageStore.title.set("Profile"); 

</script>

<div class="flex-it py-1">
  <div class="mt-6 pb-6 border-b border-gray-600">
    <div class="flex-it flex-row items-center px-4">
      <img
        alt=""
        class="rounded-full h-24 mr-4"
        src={$auth.user?.avatar}
      />
      <div class="mr-6">
        <div class="text-2xl font-bold">{$auth.user?.fullName}</div>
        <div class="text-gray-400">{$auth.user?.nickName}</div>
      </div>
      <div class="mr-6">
        <div class="text-lg font-bold">Followers</div>
        <div class="text-gray-400">{$auth.user?.followersCount}</div>
      </div>
      <div>
        <div class="text-lg font-bold">Following</div>
        <div class="text-gray-400">{$auth.user?.followingCount}</div>
      </div>
    </div>
  </div>
  {#each users as user (user.avatar)}
    <div class="flex-it p-4">
      <div class="flex-it flex-row">
        <div class="flex-it mr-4">
          <div class="w-12 h-12 overflow-visible cursor-pointer transition duration-200 hover:opacity-80">
            <img alt="" class="rounded-full" src={user.avatar} />
          </div>
        </div>
        <article class="flex-it flex-grow flex-shrink">
          <div class="flex-it justify-center flex-grow mb-1">
            <div class="flex-it justify-between flex-row w-full">
              <div class="flex-it justify-center">
                <span class="font-bold">{user.nickName}</span>
              </div>
              <div class="flex-it w-32 mt-3 cursor-pointer">
                <button
                  type="button"
                  class="
                      disabled:cursor-not-allowed disabled:bg-gray-400
                      bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-full flex-it transition duration-200"
                >
                  <div class="flex-it flex-row text-sm font-bold text-white items-start justify-center">
                    <span>Follow</span>
                  </div>
                </button>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
  {/each}
</div>
